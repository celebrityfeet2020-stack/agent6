# M3 Agent System v6.0

**å…¨æ–°ä¸€ä»£æ™ºèƒ½Agentç³»ç»Ÿ** - ä¿®å¤v5.9 bug,å¼•å…¥assistant-uièŠå¤©å®¤,å®ç°Generative UI

---

## ğŸ‰ v6.0 æ ¸å¿ƒç‰¹æ€§

### 1. ä¿®å¤v5.9çš„è‡´å‘½Bug
- âœ… è§£å†³å¼‚æ­¥äº‹ä»¶å¾ªç¯å†²çª
- âœ… æ”¹ä¸ºåŒæ­¥æµè§ˆå™¨æ± 
- âœ… ç§»é™¤nest-asyncioä¾èµ–
- âœ… å®Œå…¨ç¨³å®š,æ— å´©æºƒ

### 2. æ™ºèƒ½å»¶è¿Ÿé¢„åŠ è½½
- âœ… å¯åŠ¨æ—¶é—´ç¼©çŸ­70% (3-5ç§’)
- âœ… T+15åˆ†é’Ÿè‡ªåŠ¨é¢„åŠ è½½æ¨¡å‹
- âœ… é¿å…å¯åŠ¨èµ„æºç«äº‰

### 3. å®šæ—¶å¥åº·æ£€æµ‹å’Œæ€§èƒ½ç›‘æ§
- âœ… æ¯30åˆ†é’Ÿè‡ªåŠ¨æ£€æµ‹APIå’Œå·¥å…·
- âœ… æ¯30åˆ†é’Ÿè‡ªåŠ¨æµ‹è¯•æ€§èƒ½
- âœ… è‡ªåŠ¨æ¢å¤å†…å­˜æ‰è½

### 4. assistant-uièŠå¤©å®¤
- âœ… åŸºäºReact + TypeScript
- âœ… ä¸‰å±‚å¸ƒå±€ (æ€ç»´é“¾/å¯¹è¯/è¾“å…¥)
- âœ… å¯æ‹–åŠ¨åˆ†å‰²çº¿
- âœ… æ”¯æŒå…¨æ ¼å¼æ–‡ä»¶ä¸Šä¼ 
- âœ… **Generative UI** - AgentåŠ¨æ€ç”Ÿæˆç»„ä»¶

### 5. ä¸‰æ–¹å¯è§å•ä¼šè¯çª—å£
- âœ… ç”¨æˆ·/API/ç›´æ’­/èˆ°é˜Ÿå…±äº«å¯¹è¯
- âœ… é»˜è®¤thread_id="default_session"
- âœ… æ”¯æŒsourceåŒºåˆ† (user/api/admin/livestream/fleet)
- âœ… ä¸ºèˆ°é˜Ÿæˆ˜ç•¥èŠå¤©å®¤é¢„ç•™æ‰©å±•æ€§

### 6. ç®¡ç†é¢æ¿ä¼˜åŒ–
- âœ… å…ƒæç¤ºè¯ç®¡ç† (å®Œæ•´ä¿ç•™)
- âœ… æ—¶é—´æ˜¾ç¤ºä¿®å¤ (åŒ—äº¬æ—¶é—´)
- âœ… ç³»ç»ŸçŠ¶æ€ç›‘æ§
- âœ… å¥åº·æ£€æµ‹è¯¦æƒ…
- âœ… æ€§èƒ½æµ‹è¯•ç»“æœ

---

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### æ–¹å¼1: Docker Compose (æ¨è)

```bash
# 1. å…‹éš†ä»£ç 
git clone <your-repo>
cd m3-agent-v6.0

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘.env,å¡«å…¥LLM_API_KEYç­‰é…ç½®

# 3. æ„å»ºå¹¶å¯åŠ¨
docker-compose -f docker-compose.v6.yml up -d

# 4. è®¿é—®
# èŠå¤©å®¤: http://localhost:8889
# ç®¡ç†é¢æ¿: http://localhost:8889/admin
# Agent API: http://localhost:8888
```

### æ–¹å¼2: æœ¬åœ°å¼€å‘

#### åç«¯

```bash
# 1. å®‰è£…Pythonä¾èµ–
pip install -r requirements.txt

# 2. å®‰è£…Playwrightæµè§ˆå™¨
playwright install chromium

# 3. å¯åŠ¨åç«¯
python main.py &
python admin_app.py &
```

#### å‰ç«¯

```bash
# 1. è¿›å…¥å‰ç«¯ç›®å½•
cd chatroom_ui

# 2. å®‰è£…ä¾èµ–
pnpm install

# 3. å¼€å‘æ¨¡å¼
pnpm run dev

# 4. ç¼–è¯‘ç”Ÿäº§ç‰ˆæœ¬
pnpm run build
```

---

## ğŸ—ï¸ æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  M3 Agent System v6.0                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  admin_app.py   â”‚      â”‚  main.py             â”‚    â”‚
â”‚  â”‚  (ç«¯å£ 8889)     â”‚      â”‚  (ç«¯å£ 8888)          â”‚    â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”‚
â”‚  â”‚ / â†’ èŠå¤©å®¤UI    â”‚      â”‚ /api/chat/stream     â”‚    â”‚
â”‚  â”‚ /admin â†’ ç®¡ç†   â”‚      â”‚ /api/chat/invoke     â”‚    â”‚
â”‚  â”‚ /api/prompts/*  â”‚      â”‚ /api/tools/*         â”‚    â”‚
â”‚  â”‚ /api/dashboard/*â”‚      â”‚ /health              â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â†“                         â†“                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚  LangGraph Agent (15 Tools)                  â”‚     â”‚
â”‚  â”‚  - WebSearch, WebScraper, BrowserAutomation  â”‚     â”‚
â”‚  â”‚  - CodeExecutor, FileOperations              â”‚     â”‚
â”‚  â”‚  - ImageOCR, ImageAnalysis, DataAnalysis     â”‚     â”‚
â”‚  â”‚  - SSH, Git, UniversalAPI, Telegram          â”‚     â”‚
â”‚  â”‚  - SpeechRecognition, RPA, FileSync          â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Generative UI ç¤ºä¾‹

Agentå¯ä»¥åŠ¨æ€ç”ŸæˆReactç»„ä»¶æ¥å¢å¼ºç”¨æˆ·ä½“éªŒ:

### æœç´¢ç»“æœå¡ç‰‡
```json
{
  "type": "message",
  "content": "æ‰¾åˆ°ç›¸å…³ç»“æœ",
  "component": "SearchResultCard",
  "componentProps": {
    "title": "Pythonæ•™ç¨‹",
    "url": "https://...",
    "snippet": "...",
    "thumbnail": "..."
  }
}
```

### æ•°æ®å›¾è¡¨
```json
{
  "type": "message",
  "content": "æ•°æ®åˆ†æç»“æœ",
  "component": "DataChart",
  "componentProps": {
    "data": [...],
    "xKey": "date",
    "yKey": "value",
    "title": "é”€å”®è¶‹åŠ¿"
  }
}
```

### æ”¯æŒçš„ç»„ä»¶
- `SearchResultCard` - æœç´¢ç»“æœå¡ç‰‡
- `DataChart` - æ•°æ®å›¾è¡¨
- `WeatherCard` - å¤©æ°”å¡ç‰‡
- `CodeBlock` - ä»£ç å—
- `ImageGallery` - å›¾ç‰‡ç”»å»Š
- `TaskList` - ä»»åŠ¡åˆ—è¡¨

---

## ğŸ“š æ–‡æ¡£

- [ç³»ç»Ÿå…¨è²Œ](M3_AGENT_V6_SYSTEM_OVERVIEW.md)
- [æ¶æ„è®¾è®¡](M3_AGENT_V6_ARCHITECTURE.md)
- [åç«¯APIæ–‡æ¡£](M3_AGENT_V6_BACKEND_API.md)
- [å‰ç«¯å¼€å‘æŒ‡å—](M3_AGENT_V6_FRONTEND_GUIDE.md)
- [éƒ¨ç½²æŒ‡å—](M3_AGENT_V6_DEPLOYMENT_GUIDE.md)
- [å¼€å‘è·¯çº¿å›¾](M3_AGENT_V6_ROADMAP.md)
- [æ–‡ä»¶ç»“æ„](M3_AGENT_V6_FILE_STRUCTURE.md)

---

## ğŸ”§ é…ç½®

### ç¯å¢ƒå˜é‡

```bash
# LLMé…ç½®
LLM_API_KEY=your_api_key_here
LLM_BASE_URL=https://api.openai.com/v1
LLM_MODEL=gpt-4

# Agenté…ç½®
AGENT_NAME=M3 Agent
AGENT_VERSION=6.0.0
DEFAULT_THREAD_ID=default_session

# æµè§ˆå™¨é…ç½®
BROWSER_HEADLESS=true
BROWSER_POOL_SIZE=3

# æ—¥å¿—é…ç½®
LOG_LEVEL=INFO

# æ—¶åŒº
TZ=Asia/Shanghai
```

---

## ğŸ§ª æµ‹è¯•

### åç«¯APIæµ‹è¯•

```bash
# å¥åº·æ£€æŸ¥
curl http://localhost:8888/health

# èŠå¤©API (å…±äº«ä¼šè¯)
curl -X POST http://localhost:8888/api/chat/stream \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ä½ å¥½",
    "thread_id": "default_session",
    "source": "user"
  }'

# èŠå¤©API (ç‹¬ç«‹ä¼šè¯)
curl -X POST http://localhost:8888/api/chat/stream \
  -H "Content-Type: application/json" \
  -d '{
    "message": "ç§å¯†å¯¹è¯",
    "thread_id": "private_123",
    "source": "user"
  }'
```

### ç®¡ç†é¢æ¿æµ‹è¯•

```bash
# DashboardçŠ¶æ€
curl http://localhost:8889/api/dashboard/status

# å¥åº·æ£€æµ‹
curl http://localhost:8889/api/dashboard/health

# æ€§èƒ½æµ‹è¯•
curl http://localhost:8889/api/dashboard/performance

# å…ƒæç¤ºè¯åˆ—è¡¨
curl http://localhost:8889/api/prompts
```

---

## ğŸš€ ç‰ˆæœ¬å†å²

### v6.0.0 (2024-12-05)
- âœ… ä¿®å¤v5.9çš„å¼‚æ­¥äº‹ä»¶å¾ªç¯bug
- âœ… å¼•å…¥assistant-uièŠå¤©å®¤
- âœ… å®ç°Generative UI
- âœ… æ™ºèƒ½å»¶è¿Ÿé¢„åŠ è½½
- âœ… å®šæ—¶å¥åº·æ£€æµ‹å’Œæ€§èƒ½ç›‘æ§
- âœ… ä¸‰æ–¹å¯è§å•ä¼šè¯çª—å£
- âœ… ç®¡ç†é¢æ¿ä¼˜åŒ– (å…ƒæç¤ºè¯+æ—¶é—´ä¿®å¤)

### v5.9.0 (2024-11-XX)
- âŒ å¼•å…¥å¼‚æ­¥æµè§ˆå™¨æ±  (å¯¼è‡´bug)
- âœ… åå°ä»»åŠ¡ç®¡ç†
- âœ… ç»Ÿä¸€ä¸‰è§’èŠå¤©å®¤
- âŒ æ— æ³•æ­£å¸¸ä½¿ç”¨

### v3.5 (ç¨³å®šç‰ˆ)
- âœ… 15ä¸ªå·¥å…·å®Œæ•´å®ç°
- âœ… LangGraphé›†æˆ
- âœ… ç®¡ç†é¢æ¿
- âœ… å…ƒæç¤ºè¯ç®¡ç†

---

## ğŸ“ License

MIT License

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Request!

---

## ğŸ“§ è”ç³»

å¦‚æœ‰é—®é¢˜,è¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚

---

**M3 Agent v6.0 - è®©AIæ›´æ™ºèƒ½,è®©äº¤äº’æ›´è‡ªç„¶!** ğŸ‰
